(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{27:function(e,t,a){},43:function(e,t){},44:function(e,t,a){},46:function(e,t,a){},52:function(e,t,a){e.exports=a(94)},57:function(e,t,a){},75:function(e,t,a){e.exports=a.p+"static/media/first_logo.4c4417d4.png"},76:function(e,t,a){},81:function(e,t){},82:function(e,t){},83:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),r=a(47),l=a.n(r),i=(a(57),a(3)),o=a(4),c=a(6),d=a(5),h=a(24),m=a(19),u=a(2),p=a(8),g=a.n(p),b=a(14),f=a(1),E=a(9),w=a.n(E);var y=function(){return n.a.createElement("img",{src:a(75),style:{height:"25vmin"},alt:"logo"})},D=a(23),v=(a(76),a(18)),N=a(48),k=a(29),x=(a(83),function(e){var t=e.csvData,a=e.fileName;return n.a.createElement("button",{className:"b",onClick:function(e){return function(e,t){var a={Sheets:{data:k.utils.json_to_sheet(e)},SheetNames:["data"]},s=k.write(a,{bookType:"xlsx",type:"array"}),n=new Blob([s],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});N.saveAs(n,t+".xlsx")}(t,a)}},"\u05d9\u05e6\u05d0 \u05dc\u05d0\u05e7\u05e1\u05dc")}),S=function(e){Object(c.a)(s,e);var t=Object(d.a)(s);function s(e){var a;Object(i.a)(this,s),a=t.call(this);var r,l,o={},c=[];for(r=0;r<e.dataArr.length;r++)for(l=0;l<e.dataArr[r].values.length;l++)if(e.showDaily){var d=new Date(e.dataArr[r].values[l].ValidTime),h=d.toLocaleDateString("en-GB",{day:"numeric",month:"short"}).replace(/ /g,"-");if(null==o[h]&&(o[h]={},c.push(e.dataArr[r].values[l].ValidTime)),"\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4"===e.dataArr[r].name){for(var m=new Date(e.dataArr[r].values[l].ValidTime-864e4),u=m.toLocaleDateString("en-GB",{day:"numeric",month:"short"}).replace(/ /g,"-"),p=0,g=0,b=0,E=0,w=0;w<e.dataArr[r].values[l].Data.length;w++){if(0===w)E=e.dataArr[r].values[l].Data[w].StartTime;else if(E===e.dataArr[r].values[l].Data[w].StartTime)break;var y=e.dataArr[r].values[l].Data[w].EndTime-e.dataArr[r].values[l].Data[w].StartTime;y/=36e5,"SLEEP_LIGHT"===e.dataArr[r].values[l].Data[w].State?g+=y:p+=y,b+=y}o[u]||(o[u]={}),o[u].light=g,o[u].deep=p,o[u].total=b;continue}o[h][e.dataArr[r].name]=e.dataArr[r].values[l]}else if(e.weekly){var D=(d=new Date(e.dataArr[r].values[l].ValidTime)).getDay(),N=new Date(e.dataArr[r].values[l].ValidTime-864e4-864e5*D),k=new Date(N.getTime()+5184e5);if(null==o[h=N.toLocaleDateString("en-GB",{day:"numeric"})+"-"+k.toLocaleDateString("en-GB",{day:"numeric",month:"short"})]&&(o[h]={},c.push(e.dataArr[r].values[l].ValidTime)),null==o[h][e.dataArr[r].name]&&(o[h][e.dataArr[r].name]={},o[h][e.dataArr[r].name].counter=0,o[h][e.dataArr[r].name].sum=0),"\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4"===e.dataArr[r].name){u=(m=new Date(e.dataArr[r].values[l].ValidTime-864e4)).toLocaleDateString("en-GB",{day:"numeric",month:"short"}).replace(/ /g,"-");var x=0,S=0,C=0,A=0;for(w=0;w<e.dataArr[r].values[l].Data.length;w++){if(0===w)A=e.dataArr[r].values[l].Data[w].StartTime;else if(A===e.dataArr[r].values[l].Data[w].StartTime)break;y=e.dataArr[r].values[l].Data[w].EndTime-e.dataArr[r].values[l].Data[w].StartTime,y/=36e5,"SLEEP_LIGHT"===e.dataArr[r].values[l].Data[w].State?S+=y:x+=y,C+=y}o[u]||(o[u]={}),o[u].total||(o[u].light={},o[u].deep={},o[u].total={},o[u].light.counter=0,o[u].deep.counter=0,o[u].total.counter=0,o[u].light.sum=0,o[u].deep.sum=0,o[u].total.sum=0),o[u].light.sum+=S,o[u].deep.sum+=x,o[u].total.sum+=C,o[u].light.counter++,o[u].deep.counter++,o[u].total.counter++;continue}o[h][e.dataArr[r].name].sum+=e.dataArr[r].values[l].Data,o[h][e.dataArr[r].name].counter++}else if(e.monthly){if(null==o[h=(d=new Date(e.dataArr[r].values[l].ValidTime)).toLocaleDateString("en-GB",{month:"short"})]&&(o[h]={},c.push(e.dataArr[r].values[l].ValidTime)),null==o[h][e.dataArr[r].name]&&(o[h][e.dataArr[r].name]={},o[h][e.dataArr[r].name].counter=0,o[h][e.dataArr[r].name].sum=0),"\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4"===e.dataArr[r].name){u=(m=new Date(e.dataArr[r].values[l].ValidTime-864e4)).toLocaleDateString("en-GB",{day:"numeric",month:"short"}).replace(/ /g,"-");var O=0,j=0,I=0,_=0;for(w=0;w<e.dataArr[r].values[l].Data.length;w++){if(0===w)_=e.dataArr[r].values[l].Data[w].StartTime;else if(_===e.dataArr[r].values[l].Data[w].StartTime)break;y=e.dataArr[r].values[l].Data[w].EndTime-e.dataArr[r].values[l].Data[w].StartTime,y/=36e5,"SLEEP_LIGHT"===e.dataArr[r].values[l].Data[w].State?j+=y:O+=y,I+=y}o[u]||(o[u]={}),o[u].total||(o[u].light={},o[u].deep={},o[u].total={},o[u].light.counter=0,o[u].deep.counter=0,o[u].total.counter=0,o[u].light.sum=0,o[u].deep.sum=0,o[u].total.sum=0),o[u].light.sum+=j,o[u].deep.sum+=O,o[u].total.sum+=I,o[u].light.counter++,o[u].deep.counter++,o[u].total.counter++;continue}o[h][e.dataArr[r].name].sum+=e.dataArr[r].values[l].Data,o[h][e.dataArr[r].name].counter++}c=c.sort(),a.state={steps:e.steps,distance:e.distance,calories:e.calories,weather:e.weather,sleep:e.sleep,data:o,dates:c};var T=[];if(e.weekly||e.monthly)for(var Q=0,P=Object.entries(a.state.data);Q<P.length;Q++)for(var q=Object(v.a)(P[Q],1)[0],L=0,F=Object.entries(a.state.data[q]);L<F.length;L++){var B=Object(v.a)(F[L],1)[0];a.state.data[q][B].Data=a.state.data[q][B].sum/a.state.data[q][B].counter}var V=[];for(r=0;r<c.length;r++){h=(d=new Date(c[r])).toLocaleDateString("en-GB",{day:"numeric",month:"short"}).replace(/ /g,"-"),e.showDaily?T.push(n.a.createElement("tr",{key:h},a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},h):n.a.createElement("td",{className:"after"},h),a.state.steps?a.state.data[h]["\u05e6\u05e2\u05d3\u05d9\u05dd"]?a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},a.state.data[h]["\u05e6\u05e2\u05d3\u05d9\u05dd"].Data.toFixed(2)):n.a.createElement("td",{className:"after"},a.state.data[h]["\u05e6\u05e2\u05d3\u05d9\u05dd"].Data.toFixed(2)):a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},"-"):n.a.createElement("td",{className:"after"},"-"):null,a.state.distance?a.state.data[h]["\u05de\u05e8\u05d7\u05e7"]?a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},a.state.data[h]["\u05de\u05e8\u05d7\u05e7"].Data.toFixed(2)):n.a.createElement("td",{className:"after"},a.state.data[h]["\u05de\u05e8\u05d7\u05e7"].Data.toFixed(2)):a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},"-"):n.a.createElement("td",{className:"after"},"-"):null,a.state.calories?a.state.data[h]["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"]?a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},a.state.data[h]["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].Data.toFixed(2)):n.a.createElement("td",{className:"after"},a.state.data[h]["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].Data.toFixed(2)):a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},"-"):n.a.createElement("td",{className:"after"},"-"):null,a.state.weather?a.state.data[h]["\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"]?a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},a.state.data[h]["\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"].Data.toFixed(2)):n.a.createElement("td",{className:"after"},a.state.data[h]["\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"].Data.toFixed(2)):a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},"-"):n.a.createElement("td",{className:"after"},"-"):null,a.state.sleep?a.state.data[h].light>=0?a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},a.state.data[h].light.toFixed(2)):n.a.createElement("td",{className:"after"},a.state.data[h].light.toFixed(2)):a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},"-"):n.a.createElement("td",{className:"after"},"-"):null,a.state.sleep?a.state.data[h].deep>=0?a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},a.state.data[h].deep.toFixed(2)):n.a.createElement("td",{className:"after"},a.state.data[h].deep.toFixed(2)):a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},"-"):n.a.createElement("td",{className:"after"},"-"):null,a.state.sleep?a.state.data[h].total>=0?a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},a.state.data[h].total.toFixed(2)):n.a.createElement("td",{className:"after"},a.state.data[h].total.toFixed(2)):a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},"-"):n.a.createElement("td",{className:"after"},"-"):null)):(e.weekly||e.monthly)&&(e.weekly?(D=d.getDay(),N=new Date(d.getTime()-864e5*D),k=new Date(N.getTime()+5184e5),h=N.toLocaleDateString("en-GB",{day:"numeric"})+"-"+k.toLocaleDateString("en-GB",{day:"numeric",month:"short"})):h=d.toLocaleDateString("en-GB",{month:"short"}),T.push(n.a.createElement("tr",{key:h},a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},h):n.a.createElement("td",{className:"after"},h),a.state.steps?a.state.data[h]["\u05e6\u05e2\u05d3\u05d9\u05dd"]?a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},a.state.data[h]["\u05e6\u05e2\u05d3\u05d9\u05dd"].Data.toFixed(2)):n.a.createElement("td",{className:"after"},a.state.data[h]["\u05e6\u05e2\u05d3\u05d9\u05dd"].Data.toFixed(2)):a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},"-"):n.a.createElement("td",{className:"after"},"-"):null,a.state.distance?a.state.data[h]["\u05de\u05e8\u05d7\u05e7"]?a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},a.state.data[h]["\u05de\u05e8\u05d7\u05e7"].Data.toFixed(2)):n.a.createElement("td",{className:"after"},a.state.data[h]["\u05de\u05e8\u05d7\u05e7"].Data.toFixed(2)):a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},"-"):n.a.createElement("td",{className:"after"},"-"):null,a.state.calories?a.state.data[h]["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"]?a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},a.state.data[h]["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].Data.toFixed(2)):n.a.createElement("td",{className:"after"},a.state.data[h]["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].Data.toFixed(2)):a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},"-"):n.a.createElement("td",{className:"after"},"-"):null,a.state.weather?a.state.data[h]["\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"]?a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},a.state.data[h]["\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"].Data.toFixed(2)):n.a.createElement("td",{className:"after"},a.state.data[h]["\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"].Data.toFixed(2)):a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},"-"):n.a.createElement("td",{className:"after"},"-"):null,a.state.sleep?a.state.data[h].light?a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},a.state.data[h].light.Data.toFixed(2)):n.a.createElement("td",{className:"after"},a.state.data[h].light.Data.toFixed(2)):a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},"-"):n.a.createElement("td",{className:"after"},"-"):null,a.state.sleep?a.state.data[h].deep?a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},a.state.data[h].deep.Data.toFixed(2)):n.a.createElement("td",{className:"after"},a.state.data[h].deep.Data.toFixed(2)):a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},"-"):n.a.createElement("td",{className:"after"},"-"):null,a.state.sleep?a.state.data[h].total?a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},a.state.data[h].total.Data.toFixed(2)):n.a.createElement("td",{className:"after"},a.state.data[h].total.Data.toFixed(2)):a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},"-"):n.a.createElement("td",{className:"after"},"-"):null)));var U={};U["\u05ea\u05d0\u05e8\u05d9\u05da"]=h,a.state.steps&&a.state.data[h]["\u05e6\u05e2\u05d3\u05d9\u05dd"]&&(U["\u05e6\u05e2\u05d3\u05d9\u05dd"]=a.state.data[h]["\u05e6\u05e2\u05d3\u05d9\u05dd"].Data),a.state.distance&&a.state.data[h]["\u05de\u05e8\u05d7\u05e7"]&&(U["\u05de\u05e8\u05d7\u05e7"]=a.state.data[h]["\u05de\u05e8\u05d7\u05e7"].Data),a.state.calories&&a.state.data[h]["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"]&&(U["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"]=a.state.data[h]["\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"].Data),a.state.weather&&a.state.data[h]["\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"]&&(U["\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"]=a.state.data[h]["\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"].Data),a.state.sleep&&a.state.data[h].light&&e.showDaily&&(U["\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4 \u05e7\u05dc\u05d4"]=a.state.data[h].light,U["\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4 \u05e2\u05de\u05d5\u05e7\u05d4"]=a.state.data[h].deep,U["\u05e1\u05da \u05db\u05dc \u05e9\u05e2\u05d5\u05ea \u05d4\u05e9\u05d9\u05e0\u05d4"]=a.state.data[h].total),a.state.sleep&&a.state.data[h].light&&!e.showDaily&&(U["\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4 \u05e7\u05dc\u05d4"]=a.state.data[h].light.Data,U["\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4 \u05e2\u05de\u05d5\u05e7\u05d4"]=a.state.data[h].deep.Data,U["\u05e1\u05da \u05db\u05dc \u05e9\u05e2\u05d5\u05ea \u05d4\u05e9\u05d9\u05e0\u05d4"]=a.state.data[h].total.Data),V.push(U)}return a.state={table:T,exportCSV:V},a.styleLabel={fontSize:"calc(10px)",color:"black",margin:"2vmin 2vmin 2vmin 2vmin"},a.handleChange=a.handleChange.bind(Object(f.a)(a)),a}return Object(o.a)(s,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,s=t.value,n=t.type,r=t.checked;"checkbox"===n?this.setState(Object(u.a)({},a,r)):this.setState(Object(u.a)({},a,s))}},{key:"render",value:function(){return a(27),n.a.createElement("div",{className:"center"},n.a.createElement("table",{style:{width:"100%"},id:"mdd",className:"tabels",align:"center"},n.a.createElement("tbody",null,n.a.createElement("tr",null,this.props.dataArr.length>0?n.a.createElement("th",null,"\u05ea\u05d0\u05e8\u05d9\u05da"):null,this.props.steps?n.a.createElement("th",null,"\u05e6\u05e2\u05d3\u05d9\u05dd"):null,this.props.distance?n.a.createElement("th",null,"\u05de\u05e8\u05d7\u05e7"):null,this.props.calories?n.a.createElement("th",null,"\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"):null,this.props.weather?n.a.createElement("th",null,"\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"):null,this.props.sleep?n.a.createElement("th",null,"\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4 \u05e7\u05dc\u05d4"):null,this.props.sleep?n.a.createElement("th",null,"\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4 \u05e2\u05de\u05d5\u05e7\u05d4"):null,this.props.sleep?n.a.createElement("th",null,"\u05e1\u05da \u05db\u05dc \u05e9\u05e2\u05d5\u05ea \u05d4\u05e9\u05d9\u05e0\u05d4"):null),this.state.table)),this.props.dataArr.length>0?n.a.createElement(x,{csvData:this.state.exportCSV,fileName:this.props.name+" \u05de\u05d3\u05d3\u05d9\u05dd"}):null)}}]),s}(s.Component),C=(a(27),function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var s,r;Object(i.a)(this,a),s=t.call(this);var l=[],o=[],c=e.data,d={},h=[];for(r=0;r<c.length;r++)if(e.showDaily){for(var m=new Date(c[r].ValidTime),u=m.toLocaleDateString("en-GB",{day:"numeric",month:"short"}).replace(/ /g,"-"),p="",g=0;g<c[r].Answers[1].AnswerID.length;g++)0===c[r].Answers[1].AnswerID[g]?p+="\u05dc\u05d0 \u05e0\u05d8\u05dc\u05ea\u05d9, ":1===c[r].Answers[1].AnswerID[g]?p+="\u05d1\u05e1\u05d9\u05e1\u05d9\u05ea, ":2===c[r].Answers[1].AnswerID[g]?p+="\u05de\u05ea\u05e7\u05d3\u05de\u05ea, ":3===c[r].Answers[1].AnswerID[g]&&(p+="\u05e0\u05e8\u05e7\u05d5\u05d8\u05d9\u05ea, ");p=p.slice(0,-2),l.push(n.a.createElement("tr",{key:r},c[r].ValidTime<e.date?n.a.createElement("td",{className:"before"},u):n.a.createElement("td",{className:"after"},u),c[r].ValidTime<e.date?n.a.createElement("td",{className:"before"},c[r].Answers[0].AnswerID[0]):n.a.createElement("td",{className:"after"},c[r].Answers[0].AnswerID[0]),c[r].ValidTime<e.date?n.a.createElement("td",{className:"before"},p):n.a.createElement("td",{className:"after"},p)));var b={};b["\u05ea\u05d0\u05e8\u05d9\u05da"]=u,b["\u05e8\u05de\u05ea \u05db\u05d0\u05d1"]=c[r].Answers[0].AnswerID[0],b["\u05ea\u05e8\u05d5\u05e4\u05d4"]=p,h.push(b)}else if(e.weekly){var E=(m=new Date(c[r].ValidTime)).getDay(),w=new Date(c[r].ValidTime-864e5*E),y=new Date(w.getTime()+5184e5);for(null==d[u=w.toLocaleDateString("en-GB",{day:"numeric"})+"-"+y.toLocaleDateString("en-GB",{day:"numeric",month:"short"})]&&(d[u]={},d[u].sum=0,d[u].counter=0,d[u].text="",o.push(c[r].ValidTime)),d[u].sum+=c[r].Answers[0].AnswerID[0],d[u].counter++,g=0;g<c[r].Answers[1].AnswerID.length;g++)d[u].text.includes("\u05dc\u05d0 \u05e0\u05d8\u05dc\u05ea\u05d9")||0!==c[r].Answers[1].AnswerID[g]?d[u].text.includes("\u05d1\u05e1\u05d9\u05e1\u05d9\u05ea")||1!==c[r].Answers[1].AnswerID[g]?d[u].text.includes("\u05de\u05ea\u05e7\u05d3\u05de\u05ea")||2!==c[r].Answers[1].AnswerID[g]?d[u].text.includes("\u05e0\u05e8\u05e7\u05d5\u05d8\u05d9\u05ea")||3!==c[r].Answers[1].AnswerID[g]||(d[u].text+="\u05e0\u05e8\u05e7\u05d5\u05d8\u05d9\u05ea, "):d[u].text+="\u05de\u05ea\u05e7\u05d3\u05de\u05ea, ":d[u].text+="\u05d1\u05e1\u05d9\u05e1\u05d9\u05ea, ":d[u].text+="\u05dc\u05d0 \u05e0\u05d8\u05dc\u05ea\u05d9, "}else if(e.monthly)for(null==d[u=(m=new Date(c[r].ValidTime)).toLocaleDateString("en-GB",{month:"short"})]&&(d[u]={},d[u].sum=0,d[u].counter=0,d[u].text="",o.push(c[r].ValidTime)),d[u].sum+=c[r].Answers[0].AnswerID[0],d[u].counter++,d[u].sum+=c[r].Answers[0].AnswerID[0],d[u].counter++,g=0;g<c[r].Answers[1].AnswerID.length;g++)d[u].text.includes("\u05dc\u05d0 \u05e0\u05d8\u05dc\u05ea\u05d9")||0!==c[r].Answers[1].AnswerID[g]?d[u].text.includes("\u05d1\u05e1\u05d9\u05e1\u05d9\u05ea")||1!==c[r].Answers[1].AnswerID[g]?d[u].text.includes("\u05de\u05ea\u05e7\u05d3\u05de\u05ea")||2!==c[r].Answers[1].AnswerID[g]?d[u].text.includes("\u05e0\u05e8\u05e7\u05d5\u05d8\u05d9\u05ea")||3!==c[r].Answers[1].AnswerID[g]||(d[u].text+="\u05e0\u05e8\u05e7\u05d5\u05d8\u05d9\u05ea, "):d[u].text+="\u05de\u05ea\u05e7\u05d3\u05de\u05ea, ":d[u].text+="\u05d1\u05e1\u05d9\u05e1\u05d9\u05ea, ":d[u].text+="\u05dc\u05d0 \u05e0\u05d8\u05dc\u05ea\u05d9, ";if(o=o.sort(),s.state={table:l,data:d,dates:o,exportCSV:h},e.weekly||e.monthly){for(var D=0,N=Object.entries(s.state.data);D<N.length;D++){var k=Object(v.a)(N[D],1)[0];s.state.data[k].Data=s.state.data[k].sum/s.state.data[k].counter}for(r=0;r<o.length;r++)m=new Date(o[r]),e.weekly?(E=m.getDay(),w=new Date(m.getTime()-864e5*E),y=new Date(w.getTime()+5184e5),u=w.toLocaleDateString("en-GB",{day:"numeric"})+"-"+y.toLocaleDateString("en-GB",{day:"numeric",month:"short"})):u=m.toLocaleDateString("en-GB",{month:"short"}),d[u].text=d[u].text.slice(0,-2),s.state.table.push(n.a.createElement("tr",{key:u},c[r].ValidTime<e.date?n.a.createElement("td",{className:"before"},u):n.a.createElement("td",{className:"after"},u),c[r].ValidTime<e.date?n.a.createElement("td",{className:"before"},s.state.data[u].Data.toFixed(2)):n.a.createElement("td",{className:"after"},s.state.data[u].Data.toFixed(2)),c[r].ValidTime<e.date?n.a.createElement("td",{className:"before"},d[u].text):n.a.createElement("td",{className:"after"},d[u].text))),(b={})["\u05ea\u05d0\u05e8\u05d9\u05da"]=u,b["\u05e8\u05de\u05ea \u05db\u05d0\u05d1"]=s.state.data[u],s.state.exportCSV.push(b)}return s.styleLabel={fontSize:"calc(10px)",color:"black",margin:"2vmin 2vmin 2vmin 2vmin"},s.handleChange=s.handleChange.bind(Object(f.a)(s)),s}return Object(o.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,s=t.value,n=t.type,r=t.checked;"checkbox"===n?this.setState(Object(u.a)({},a,r)):this.setState(Object(u.a)({},a,s))}},{key:"render",value:function(){return n.a.createElement("div",{className:"center"},n.a.createElement("table",{style:{width:"100%"},id:"daily",className:"tabels"},n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\u05ea\u05d0\u05e8\u05d9\u05da"),n.a.createElement("th",null,"\u05e8\u05de\u05ea \u05db\u05d0\u05d1"),this.props.showDaily?n.a.createElement("th",null,"\u05ea\u05e8\u05d5\u05e4\u05d4"):n.a.createElement("th",null,"\u05ea\u05e8\u05d5\u05e4\u05d5\u05ea \u05e9\u05d4\u05d9\u05d5 \u05d1\u05e9\u05d9\u05de\u05d5\u05e9")),this.state.table)),n.a.createElement(x,{csvData:this.state.exportCSV,fileName:this.props.name+" \u05e9\u05d0\u05dc\u05d5\u05df \u05d9\u05d5\u05de\u05d9"}))}}]),a}(s.Component)),A=a(20),O=(a(28),function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this)).state={},s.handleChange=s.handleChange.bind(Object(f.a)(s)),s.sort_by_key=function(e,t){return e.sort((function(e,a){var s=e[t],n=a[t];return s<n?-1:s>n?1:0}))},s}return Object(o.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,s=t.value,n=t.type,r=t.checked;"checkbox"===n?this.setState(Object(u.a)({},a,r)):this.setState(Object(u.a)({},a,s))}},{key:"render",value:function(){for(var e,t,a=this.sort_by_key(this.props.data,"Timestamp"),s={},r=0,l=new Date(this.props.date),i={},o={},c=[],d=0;d<a.length;d++)if(this.props.showDaily){var h=new Date(a[d].ValidTime),m=h.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}).replace(/ /g,"-");a[d].Data<0&&(r=-1),h<=l&&(s[m]=a[d].Data.toFixed(2),e=m,t=a[d].Data.toFixed(2)),h>=l&&(i[m]=a[d].Data.toFixed(2),e&&(i[e]=t))}else if(this.props.weekly){var u=(h=new Date(a[d].ValidTime)).getDay(),p=new Date(a[d].ValidTime-864e5*u),g=new Date(p.getTime()+5184e5);null==o[m=p.toLocaleDateString("en-GB",{day:"numeric"})+" - "+g.toLocaleDateString("en-GB",{day:"numeric",month:"short"})]&&(o[m]={},o[m].counter=0,o[m].sum=0,c.push(a[d].ValidTime)),o[m].sum+=a[d].Data,o[m].counter++}else this.props.monthly&&(null==o[m=(h=new Date(a[d].ValidTime)).toLocaleDateString("en-GB",{month:"short"})]&&(o[m]={},o[m].counter=0,o[m].sum=0,c.push(a[d].ValidTime)),o[m].sum+=a[d].Data,o[m].counter++);if(c=c.sort(),this.props.weekly||this.props.monthly)for(d=0;d<c.length;d++)h=new Date(c[d]),this.props.weekly?(u=h.getDay(),p=new Date(h.getTime()-864e5*u),g=new Date(p.getTime()+5184e5),m=p.toLocaleDateString("en-GB",{day:"numeric"})+" - "+g.toLocaleDateString("en-GB",{day:"numeric",month:"short"})):m=h.toLocaleDateString("en-GB",{month:"short"}),o[m].sum/o[m].counter<0&&(r=-1),h<=l&&(s[m]=(o[m].sum/o[m].counter).toFixed(2),e=m,t=(o[m].sum/o[m].counter).toFixed(2)),h>=l&&(i[m]=(o[m].sum/o[m].counter).toFixed(2),e&&(i[e]=t));var b=[{name:"\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7",data:s},{name:"\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7",data:i}];return n.a.createElement("div",null,n.a.createElement("div",{className:"App"},n.a.createElement("h1",null,this.props.name),n.a.createElement(A.a,{download:!0,data:b,min:r})))}}]),a}(s.Component)),j=function(e){Object(c.a)(s,e);var t=Object(d.a)(s);function s(e){var a;Object(i.a)(this,s),a=t.call(this);var r,l,o={},c=e.data,d=[],h={};for(r=0;r<c.length;r++)for(l=0;l<c[r].data.length;l++)if(e.showDaily){var m=new Date(c[r].data[l].ValidTime),u=m.toLocaleDateString("en-GB",{day:"numeric",month:"short"}).replace(/ /g,"-");null==o[u]&&(o[u]={},d.push(c[r].data[l].ValidTime)),o[u][c[r].data[l].QuestionnaireID]=c[r].data[l].Score,h[c[r].data[l].QuestionnaireID]=!0}else if(e.weekly){var p=(m=new Date(c[r].data[l].ValidTime)).getDay(),g=new Date(c[r].data[l].ValidTime-864e5*p),b=new Date(g.getTime()+5184e5);null==o[u=g.toLocaleDateString("en-GB",{day:"numeric"})+"-"+b.toLocaleDateString("en-GB",{day:"numeric",month:"short"})]&&(o[u]={},d.push(c[r].data[l].ValidTime)),null==o[u][c[r].data[l].QuestionnaireID]&&(o[u][c[r].data[l].QuestionnaireID]={},o[u][c[r].data[l].QuestionnaireID].sum=0,o[u][c[r].data[l].QuestionnaireID].counter=0),o[u][c[r].data[l].QuestionnaireID].sum+=c[r].data[l].Score,o[u][c[r].data[l].QuestionnaireID].counter++,h[c[r].data[l].QuestionnaireID]=!0}else e.monthly&&(null==o[u=(m=new Date(c[r].data[l].ValidTime)).toLocaleDateString("en-GB",{month:"short"})]&&(o[u]={},d.push(c[r].data[l].ValidTime)),null==o[u][c[r].data[l].QuestionnaireID]&&(o[u][c[r].data[l].QuestionnaireID]={},o[u][c[r].data[l].QuestionnaireID].sum=0,o[u][c[r].data[l].QuestionnaireID].counter=0),o[u][c[r].data[l].QuestionnaireID].sum+=c[r].data[l].Score,o[u][c[r].data[l].QuestionnaireID].counter++,h[c[r].data[l].QuestionnaireID]=!0);if(d=d.sort(),a.state={data:o,arr:h,table:[],dates:d,exportCSV:[]},e.weekly||e.monthly)for(var E=0,w=Object.entries(a.state.data);E<w.length;E++)for(var y=Object(v.a)(w[E],1)[0],D=0,N=Object.entries(a.state.data[y]);D<N.length;D++){var k=Object(v.a)(N[D],1)[0];a.state.data[y][k].Data=a.state.data[y][k].sum/a.state.data[y][k].counter}for(r=0;r<d.length;r++){u=(m=new Date(d[r])).toLocaleDateString("en-GB",{day:"numeric",month:"short"}).replace(/ /g,"-"),e.showDaily?a.state.table.push(n.a.createElement("tr",{key:u},a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},u):n.a.createElement("td",{className:"after"},u),a.state.arr[1]?a.state.data[u][1]>=0||a.state.data[u][1]<0?a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},a.state.data[u][1]):n.a.createElement("td",{className:"after"},a.state.data[u][1]):a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},"-"):n.a.createElement("td",{className:"after"},"-"):null,a.state.arr[2]?a.state.data[u][2]>=0||a.state.data[u][2]<0?a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},a.state.data[u][2]):n.a.createElement("td",{className:"after"},a.state.data[u][2]):a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},"-"):n.a.createElement("td",{className:"after"},"-"):null,a.state.arr[3]?a.state.data[u][3]>=0||a.state.data[u][3]<0?a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},a.state.data[u][3]):n.a.createElement("td",{className:"after"},a.state.data[u][3]):a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},"-"):n.a.createElement("td",{className:"after"},"-"):null,a.state.arr[4]?a.state.data[u][4]>=0||a.state.data[u][4]<0?a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},a.state.data[u][4]):n.a.createElement("td",{className:"after"},a.state.data[u][4]):a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},"-"):n.a.createElement("td",{className:"after"},"-"):null,a.state.arr[5]?a.state.data[u][5]>=0||a.state.data[u][5]<0?a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},a.state.data[u][5]):n.a.createElement("td",{className:"after"},a.state.data[u][5]):a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},"-"):n.a.createElement("td",{className:"after"},"-"):null,a.state.arr[6]?a.state.data[u][6]>=0||a.state.data[u][6]<0?a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},a.state.data[u][6]):n.a.createElement("td",{className:"after"},a.state.data[u][6]):a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},"-"):n.a.createElement("td",{className:"after"},"-"):null)):(e.weekly||e.monthly)&&(e.weekly?(p=m.getDay(),g=new Date(m.getTime()-864e5*p),b=new Date(g.getTime()+5184e5),u=g.toLocaleDateString("en-GB",{day:"numeric"})+"-"+b.toLocaleDateString("en-GB",{day:"numeric",month:"short"})):u=m.toLocaleDateString("en-GB",{month:"short"}),a.state.table.push(n.a.createElement("tr",{key:u},a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},u):n.a.createElement("td",{className:"after"},u),a.state.arr[1]?a.state.data[u][1]&&(a.state.data[u][1].Data>=0||a.state.data[u][1].Data<0)?a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},a.state.data[u][1].Data.toFixed(2)):n.a.createElement("td",{className:"after"},a.state.data[u][1].Data.toFixed(2)):a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},"-"):n.a.createElement("td",{className:"after"},"-"):null,a.state.arr[2]?a.state.data[u][2]&&(a.state.data[u][2].Data>=0||a.state.data[u][2].Data<0)?a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},a.state.data[u][2].Data.toFixed(2)):n.a.createElement("td",{className:"after"},a.state.data[u][2].Data.toFixed(2)):a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},"-"):n.a.createElement("td",{className:"after"},"-"):null,a.state.arr[3]?a.state.data[u][3]&&(a.state.data[u][3].Data>=0||a.state.data[u][3].Data<0)?a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},a.state.data[u][3].Data.toFixed(2)):n.a.createElement("td",{className:"after"},a.state.data[u][3].Data.toFixed(2)):a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},"-"):n.a.createElement("td",{className:"after"},"-"):null,a.state.arr[4]?a.state.data[u][4]&&(a.state.data[u][4].Data>=0||a.state.data[u][4].Data<0)?a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},a.state.data[u][4].Data.toFixed(2)):n.a.createElement("td",{className:"after"},a.state.data[u][4].Data.toFixed(2)):a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},"-"):n.a.createElement("td",{className:"after"},"-"):null,a.state.arr[5]?a.state.data[u][5]&&(a.state.data[u][5].Data>=0||a.state.data[u][5].Data<0)?a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},a.state.data[u][5].Data.toFixed(2)):n.a.createElement("td",{className:"after"},a.state.data[u][5].Data.toFixed(2)):a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},"-"):n.a.createElement("td",{className:"after"},"-"):null,a.state.arr[6]?a.state.data[u][6]&&(a.state.data[u][6].Data>=0||a.state.data[u][6].Data<0)?a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},a.state.data[u][6].Data.toFixed(2)):n.a.createElement("td",{className:"after"},a.state.data[u][6].Data.toFixed(2)):a.state.dates[r]<e.date?n.a.createElement("td",{className:"before"},"-"):n.a.createElement("td",{className:"after"},"-"):null)));var x={};x["\u05ea\u05d0\u05e8\u05d9\u05da"]=u,a.state.arr[1]&&(a.state.data[u][1]>0||a.state.data[u][1]<=0)&&(x["Oswestry Disability Index"]=a.state.data[u][1]),a.state.arr[2]&&(a.state.data[u][2]>0||a.state.data[u][2]<=0)&&(x["Neck Disability Index"]=a.state.data[u][2]),a.state.arr[3]&&(a.state.data[u][3]>0||a.state.data[u][3]<=0)&&(x["Lower Extremity Functional Scale"]=a.state.data[u][3]),a.state.arr[4]&&(a.state.data[u][4]>0||a.state.data[u][4]<=0)&&(x["Oswestry low back pain"]=a.state.data[u][4]),a.state.arr[5]&&(a.state.data[u][5]>0||a.state.data[u][5]<=0)&&(x["EQ-5D"]=a.state.data[u][5]),a.state.arr[6]&&(a.state.data[u][6]>0||a.state.data[u][6]<=0)&&(x["EQ5D Number"]=a.state.data[u][6]),a.state.exportCSV.push(x)}return a.styleLabel={fontSize:"calc(10px)",color:"black",margin:"2vmin 2vmin 2vmin 2vmin"},a.handleChange=a.handleChange.bind(Object(f.a)(a)),a}return Object(o.a)(s,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,s=t.value,n=t.type,r=t.checked;"checkbox"===n?this.setState(Object(u.a)({},a,r)):this.setState(Object(u.a)({},a,s))}},{key:"render",value:function(){return a(27),n.a.createElement("div",null,n.a.createElement("table",{style:{width:"100%"},id:"per"},n.a.createElement("tbody",null,n.a.createElement("tr",null,this.props.data.length>0?n.a.createElement("th",null,"\u05ea\u05d0\u05e8\u05d9\u05da"):null,this.state.arr[1]?n.a.createElement("th",null,"Oswestry Disability Index"):null,this.state.arr[2]?n.a.createElement("th",null,"Neck Disability Index"):null,this.state.arr[3]?n.a.createElement("th",null,"Lower Extremity Functional Scale"):null,this.state.arr[4]?n.a.createElement("th",null,"Oswestry low back pain"):null,this.state.arr[5]?n.a.createElement("th",null,"EQ-5D"):null,this.state.arr[6]?n.a.createElement("th",null,"EQ5D Number"):null),this.state.table)),n.a.createElement(x,{csvData:this.state.exportCSV,fileName:this.props.name+" \u05e9\u05d0\u05dc\u05d5\u05e0\u05d9\u05dd \u05ea\u05e7\u05d5\u05e4\u05ea\u05d9\u05d9\u05dd"}))}}]),s}(s.Component),I=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this)).state={},s.handleChange=s.handleChange.bind(Object(f.a)(s)),s.sort_by_key=function(e,t){return e.sort((function(e,a){var s=e[t],n=a[t];return s<n?-1:s>n?1:0}))},s}return Object(o.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,s=t.value,n=t.type,r=t.checked;"checkbox"===n?this.setState(Object(u.a)({},a,r)):this.setState(Object(u.a)({},a,s))}},{key:"render",value:function(){for(var e=this.sort_by_key(this.props.data,"ValidTime"),t={},a={},s={},r=new Date(this.props.date),l={},i={},o={},c={},d=[],h=0;h<e.length;h++){for(var m,u,p,g,b=new Date(e[h].ValidTime),f=0,E=0,w=0,y=0;y<e[h].Data.length;y++){var D=e[h].Data[y].EndTime-e[h].Data[y].StartTime;D/=36e5,"SLEEP_LIGHT"===e[h].Data[y].State?E+=D:f+=D,w+=D}if(this.props.showDaily){var v=b.toLocaleDateString("en-GB",{day:"numeric",month:"short"}).replace(/ /g,"-");b<=r&&(t[v]=f.toFixed(2),a[v]=E.toFixed(2),s[v]=w.toFixed(2),m=v,u=f.toFixed(2),p=E.toFixed(2),g=w.toFixed(2)),b>=r&&(l[v]=f.toFixed(2),i[v]=E.toFixed(2),o[v]=w.toFixed(2),m&&(l[m]=u,i[m]=p,o[m]=g))}else if(this.props.weekly){var N=(b=new Date(e[h].ValidTime)).getDay(),k=new Date(e[h].ValidTime-864e5*N),x=new Date(k.getTime()+5184e5);null==c[v=k.toLocaleDateString("en-GB",{day:"numeric"})+" - "+x.toLocaleDateString("en-GB",{day:"numeric",month:"short"})]&&(c[v]={},c[v].light={},c[v].deep={},c[v].total={},c[v].light.counter=0,c[v].light.sum=0,c[v].deep.counter=0,c[v].deep.sum=0,c[v].total.counter=0,c[v].total.sum=0,d.push(e[h].ValidTime)),c[v].light.counter++,c[v].light.sum+=E,c[v].deep.counter++,c[v].deep.sum+=f,c[v].total.counter++,c[v].total.sum+=w}else this.props.monthly&&(null==c[v=(b=new Date(e[h].ValidTime)).toLocaleDateString("en-GB",{month:"short"})]&&(c[v]={},c[v].light={},c[v].deep={},c[v].total={},c[v].light.counter=0,c[v].light.sum=0,c[v].deep.counter=0,c[v].deep.sum=0,c[v].total.counter=0,c[v].total.sum=0,d.push(e[h].ValidTime)),c[v].light.counter++,c[v].light.sum+=E,c[v].deep.counter++,c[v].deep.sum+=f,c[v].total.counter++,c[v].total.sum+=w)}if(d=d.sort(),this.props.weekly||this.props.monthly)for(h=0;h<d.length;h++)b=new Date(d[h]),this.props.weekly?(N=b.getDay(),k=new Date(b.getTime()-864e5*N),x=new Date(k.getTime()+5184e5),v=k.toLocaleDateString("en-GB",{day:"numeric"})+" - "+x.toLocaleDateString("en-GB",{day:"numeric",month:"short"})):v=b.toLocaleDateString("en-GB",{month:"short"}),b<=r&&(t[v]=(c[v].deep.sum/c[v].deep.counter).toFixed(2),a[v]=(c[v].light.sum/c[v].light.counter).toFixed(2),s[v]=(c[v].total.sum/c[v].total.counter).toFixed(2),m=v,u=(c[v].deep.sum/c[v].deep.counter).toFixed(2),p=(c[v].light.sum/c[v].light.counter).toFixed(2),g=(c[v].total.sum/c[v].total.counter).toFixed(2)),b>=r&&(l[v]=(c[v].deep.sum/c[v].deep.counter).toFixed(2),i[v]=(c[v].light.sum/c[v].light.counter).toFixed(2),o[v]=(c[v].total.sum/c[v].total.counter).toFixed(2),m&&(l[m]=u,i[m]=p,o[m]=g));var S=[{name:"\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4 \u05e7\u05dc\u05d4 \u05dc\u05e4\u05e0\u05d9 \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7",data:a},{name:"\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4 \u05e2\u05de\u05d5\u05e7\u05d4 \u05dc\u05e4\u05e0\u05d9 \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7",data:t},{name:"\u05e1\u05da \u05db\u05dc \u05e9\u05e2\u05d5\u05ea \u05d4\u05e9\u05d9\u05e0\u05d4 \u05dc\u05e4\u05e0\u05d9 \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7",data:s},{name:"\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4 \u05e7\u05dc\u05d4 \u05d0\u05d7\u05e8\u05d9 \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7",data:i},{name:"\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4 \u05e2\u05de\u05d5\u05e7\u05d4 \u05d0\u05d7\u05e8\u05d9 \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7",data:l},{name:"\u05e1\u05da \u05db\u05dc \u05e9\u05e2\u05d5\u05ea \u05d4\u05e9\u05d9\u05e0\u05d4 \u05d0\u05d7\u05e8\u05d9 \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7",data:o}];return n.a.createElement("div",null,n.a.createElement("div",{className:"App"},n.a.createElement("h1",null,this.props.name),n.a.createElement(A.a,{download:!0,data:S,colors:["#010C6B","#7C0000","#0D4E00","#77CCEE","#F78989","#B5FFA2"],min:0})))}}]),a}(s.Component),_=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this)).state={},s.handleChange=s.handleChange.bind(Object(f.a)(s)),s.sort_by_key=function(e,t){return e.sort((function(e,a){var s=e[t],n=a[t];return s<n?-1:s>n?1:0}))},s}return Object(o.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,s=t.value,n=t.type,r=t.checked;"checkbox"===n?this.setState(Object(u.a)({},a,r)):this.setState(Object(u.a)({},a,s))}},{key:"render",value:function(){for(var e,t,a=this.sort_by_key(this.props.data,"ValidTime"),s={},r=new Date(this.props.date),l={},i={},o=[],c=0;c<a.length;c++)if(this.props.showDaily){var d=new Date(a[c].ValidTime),h=d.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}).replace(/ /g,"-");d<=r&&(s[h]=a[c].Answers[0].AnswerID[0].toFixed(2),e=h,t=a[c].Answers[0].AnswerID[0].toFixed(2)),d>=r&&(l[h]=a[c].Answers[0].AnswerID[0].toFixed(2),t&&(l[e]=t))}else if(this.props.weekly){var m=(d=new Date(a[c].ValidTime)).getDay(),u=new Date(a[c].ValidTime-864e5*m),p=new Date(u.getTime()+5184e5);null==i[h=u.toLocaleDateString("en-GB",{day:"numeric"})+" - "+p.toLocaleDateString("en-GB",{day:"numeric",month:"short"})]&&(i[h]={},i[h].counter=0,i[h].sum=0,o.push(a[c].ValidTime)),i[h].sum+=a[c].Answers[0].AnswerID[0],i[h].counter++}else this.props.monthly&&(null==i[h=(d=new Date(a[c].ValidTime)).toLocaleDateString("en-GB",{month:"short"})]&&(i[h]={},i[h].counter=0,i[h].sum=0,o.push(a[c].ValidTime)),i[h].sum+=a[c].Answers[0].AnswerID[0],i[h].counter++);if(o=o.sort(),this.props.weekly||this.props.monthly)for(c=0;c<o.length;c++)d=new Date(o[c]),this.props.weekly?(m=d.getDay(),u=new Date(d.getTime()-864e5*m),p=new Date(u.getTime()+5184e5),h=u.toLocaleDateString("en-GB",{day:"numeric"})+" - "+p.toLocaleDateString("en-GB",{day:"numeric",month:"short"})):h=d.toLocaleDateString("en-GB",{month:"short"}),d<=r&&(s[h]=(i[h].sum/i[h].counter).toFixed(2),e=h,t=(i[h].sum/i[h].counter).toFixed(2)),d>=r&&(l[h]=(i[h].sum/i[h].counter).toFixed(2),e&&(l[e]=t));var g=[{name:"\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7",data:s},{name:"\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7",data:l}];return n.a.createElement("div",null,n.a.createElement("div",{className:"App"},n.a.createElement("h1",null,this.props.name),n.a.createElement(A.a,{download:!0,data:g,min:0})))}}]),a}(s.Component),T=(a(86),function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var s;Object(i.a)(this,a),s=t.call(this);for(var n=!1,r=!1,l=!1,o=!1,c=0;c<e.user.Questionnaires.length;c++)1===e.user.Questionnaires[c].QuestionnaireID?n=!0:2===e.user.Questionnaires[c].QuestionnaireID?r=!0:3===e.user.Questionnaires[c].QuestionnaireID?l=!0:5===e.user.Questionnaires[c].QuestionnaireID&&(o=!0);return s.state={user:e.user,showPopup:!1,showPopupQ:!1,new_date:"",Questionnaires:[],quest1:!1,quest2:n,quest3:r,quest4:l,quest5:o,quest6:!1},s.changeDate=s.changeDate.bind(Object(f.a)(s)),s.togglePopup=s.togglePopup.bind(Object(f.a)(s)),s.handleChange=s.handleChange.bind(Object(f.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(f.a)(s)),s.togglePopupQ=s.togglePopupQ.bind(Object(f.a)(s)),s.handleSubmitQ=s.handleSubmitQ.bind(Object(f.a)(s)),s}return Object(o.a)(a,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=new Date(this.state.new_date).getTime(),s=this.state.user.UserID;w.a.post("http://icc.ise.bgu.ac.il/njsw03auth/usersAll/changeDateOfSurgery",{UserID:s,DateOfSurgery:a},{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}}).then((function(e){window.alert("\u05d4\u05ea\u05d0\u05e8\u05d9\u05da \u05e9\u05d5\u05e0\u05d4 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4"),t.togglePopup()}))}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,s=t.value,n=t.type,r=t.checked;"checkbox"===n?this.setState(Object(u.a)({},a,r)):this.setState(Object(u.a)({},a,s))}},{key:"handleSubmitQ",value:function(e){var t=this;e.preventDefault();var a=[];this.state.quest2&&a.push({QuestionnaireID:1,QuestionnaireText:"\u05ea\u05e4\u05e7\u05d5\u05d3 \u05d2\u05d1 \u05ea\u05d7\u05ea\u05d5\u05df"}),this.state.quest3&&a.push({QuestionnaireID:2,QuestionnaireText:"\u05ea\u05e4\u05e7\u05d5\u05d3 \u05e6\u05d5\u05d5\u05d0\u05e8"}),this.state.quest4&&a.push({QuestionnaireID:3,QuestionnaireText:"\u05ea\u05e4\u05e7\u05d5\u05d3 \u05d2\u05e3 \u05ea\u05d7\u05ea\u05d5\u05df"}),this.state.quest5&&(a.push({QuestionnaireID:5,QuestionnaireText:"\u05d0\u05d9\u05db\u05d5\u05ea \u05d7\u05d9\u05d9\u05dd"}),a.push({QuestionnaireID:6,QuestionnaireText:"\u05d3\u05d9\u05e8\u05d5\u05d2 \u05d0\u05d9\u05db\u05d5\u05ea \u05d7\u05d9\u05d9\u05dd"}));var s=this.state.user.UserID;w.a.post("http://icc.ise.bgu.ac.il/njsw03auth/usersAll/changeUserQuestionnaire",{UserID:s,Questionnaires:a},{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}}).then((function(e){window.alert("\u05d4\u05e9\u05d0\u05dc\u05d5\u05e0\u05d9\u05dd \u05e9\u05d5\u05e0\u05d5 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4"),t.togglePopupQ()}))}},{key:"changeQuest",value:function(){this.togglePopupQ()}},{key:"changeDate",value:function(){this.togglePopup()}},{key:"togglePopupQ",value:function(){this.setState({showPopupQ:!this.state.showPopupQ})}},{key:"togglePopup",value:function(){this.setState({showPopup:!this.state.showPopup})}},{key:"render",value:function(){for(var e=this,t=this.state.user.First_Name,a=this.state.user.Last_Name,s=this.state.user.BMI,r=new Date(this.state.user.DateOfSurgery).toLocaleDateString("en-GB",{day:"numeric",month:"numeric",year:"numeric"}).replace(/ /g,"/"),l=this.state.user.Gender,i=this.state.user.Height,o=this.state.user.Phone_Number,c=this.state.user.Smoke,d=this.state.user.SurgeryType,h=this.state.user.Weight,m=new Date,u=new Date(this.state.user.BirthDate),p=Math.floor((m.getTime()-u.getTime())/31536e6),g="",b=0;b<this.state.user.Questionnaires.length;b++)0!==b&&(g+=", "),g+=this.state.user.Questionnaires[b].QuestionnaireText;return n.a.createElement("div",{id:"data"},n.a.createElement("div",{className:"line"},n.a.createElement("label",{className:"label"},"\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9:"),n.a.createElement("label",{className:"labelData"},t),n.a.createElement("label",{className:"label"},"\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4:"),n.a.createElement("label",{className:"labelData"},a),n.a.createElement("label",{className:"label"},"\u05de\u05e1\u05e4\u05e8 \u05d8\u05dc\u05e4\u05d5\u05df:"),n.a.createElement("label",{className:"labelData"},o)),n.a.createElement("div",{className:"line"},n.a.createElement("label",{className:"label"},"\u05de\u05d9\u05df:"),n.a.createElement("label",{className:"labelData"},l),n.a.createElement("label",{className:"label"},"\u05de\u05e9\u05e7\u05dc:"),n.a.createElement("label",{className:"labelData"},h),n.a.createElement("label",{className:"label"},"\u05d2\u05d5\u05d1\u05d4:"),n.a.createElement("label",{className:"labelData"},i),n.a.createElement("label",{className:"label"},"\u05d2\u05d9\u05dc:"),n.a.createElement("label",{className:"labelData"},p),n.a.createElement("label",{className:"label"},"BMI:"),n.a.createElement("label",{className:"labelData"},s),n.a.createElement("label",{className:"labelData"},c)),n.a.createElement("div",{className:"line"},n.a.createElement("label",{className:"label"},"\u05e1\u05d5\u05d2 \u05e0\u05d9\u05ea\u05d5\u05d7:"),n.a.createElement("label",{className:"labelData"},d),n.a.createElement("label",{className:"label"},"\u05ea\u05d0\u05e8\u05d9\u05da \u05e0\u05d9\u05ea\u05d5\u05d7:"),n.a.createElement("label",{className:"labelData"},r),n.a.createElement("button",{className:"changeDate",onClick:function(){return e.changeDate()}},"\u05e9\u05d9\u05e0\u05d5\u05d9 \u05d4\u05ea\u05d0\u05e8\u05d9\u05da")),n.a.createElement("div",{className:"line"},n.a.createElement("label",{className:"label"},"\u05e9\u05d0\u05dc\u05d5\u05e0\u05d9\u05dd:"),n.a.createElement("label",{className:"labelData"},g," "),n.a.createElement("button",{className:"changeDate",onClick:function(){return e.changeQuest()}},"\u05e9\u05d9\u05e0\u05d5\u05d9 \u05d4\u05e9\u05d0\u05dc\u05d5\u05e0\u05d9\u05dd")),this.state.showPopup?n.a.createElement(Q,{closePopup:this.togglePopup.bind(this),handleChange:this.handleChange.bind(this),handleSubmit:this.handleSubmit.bind(this)}):null,this.state.showPopupQ?n.a.createElement(P,{closePopup:this.togglePopupQ.bind(this),handleChange:this.handleChange.bind(this),handleSubmit:this.handleSubmitQ.bind(this),quest1:this.state.quest1,quest2:this.state.quest2,quest3:this.state.quest3,quest4:this.state.quest4,quest5:this.state.quest5,quest6:this.state.quest6}):null)}}]),a}(s.Component)),Q=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"popup"},n.a.createElement("div",{className:"popup_innerCD"},n.a.createElement("button",{onClick:this.props.closePopup,id:"x"},"x"),n.a.createElement("h4",null,"\u05e9\u05d9\u05e0\u05d5\u05d9 \u05ea\u05d0\u05e8\u05d9\u05da \u05d4\u05e0\u05d9\u05ea\u05d5\u05d7"),n.a.createElement("form",{onSubmit:this.props.handleSubmit},n.a.createElement("label",{id:"newD"}," \u05d4\u05db\u05e0\u05e1 \u05ea\u05d0\u05e8\u05d9\u05da \u05e0\u05d9\u05ea\u05d5\u05d7 \u05d7\u05d3\u05e9"),n.a.createElement("input",{id:"new_date",type:"date",name:"new_date",onChange:this.props.handleChange}),n.a.createElement("button",{id:"sumbitC",type:"sumbit"},"\u05e9\u05d9\u05e0\u05d5\u05d9"))))}}]),a}(n.a.Component),P=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"popup"},n.a.createElement("div",{className:"popup_innerCQ"},n.a.createElement("button",{onClick:this.props.closePopup,id:"x"},"x"),n.a.createElement("h4",null,"\u05e9\u05d9\u05e0\u05d5\u05d9 \u05e9\u05d0\u05dc\u05d5\u05e0\u05d9\u05dd"),n.a.createElement("form",{id:"formQ",onSubmit:this.props.handleSubmit},n.a.createElement("div",{className:"line"},n.a.createElement("input",{type:"checkbox",className:"cInput",name:"quest2",checked:this.props.quest2,onChange:this.props.handleChange}),n.a.createElement("label",{className:"mLabel"},"\u05ea\u05e4\u05e7\u05d5\u05d3 \u05d2\u05d1 \u05ea\u05d7\u05ea\u05d5\u05df")),n.a.createElement("div",{className:"line"},n.a.createElement("input",{type:"checkbox",className:"cInput",name:"quest3",checked:this.props.quest3,onChange:this.props.handleChange}),n.a.createElement("label",{className:"mLabel"},"\u05ea\u05e4\u05e7\u05d5\u05d3 \u05e6\u05d5\u05d5\u05d0\u05e8")),n.a.createElement("div",{className:"line"},n.a.createElement("input",{type:"checkbox",className:"cInput",name:"quest4",checked:this.props.quest4,onChange:this.props.handleChange}),n.a.createElement("label",{className:"mLabel"},"\u05ea\u05e4\u05e7\u05d5\u05d3 \u05d2\u05e3 \u05ea\u05d7\u05ea\u05d5\u05df")),n.a.createElement("div",{className:"line"},n.a.createElement("input",{type:"checkbox",className:"cInput",name:"quest5",checked:this.props.quest5,onChange:this.props.handleChange}),n.a.createElement("label",{className:"mLabel"},"\u05d0\u05d9\u05db\u05d5\u05ea \u05d7\u05d9\u05d9\u05dd")),n.a.createElement("button",{id:"changeQ",type:"sumbit"},"\u05e9\u05d9\u05e0\u05d5\u05d9"))))}}]),a}(n.a.Component),q=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this)).state={graph:!1,table:!1,steps:e.steps},s.styleLabel={fontSize:"calc(10px)",color:"black",margin:"2vmin 2vmin 2vmin 2vmin"},s.handleChange=s.handleChange.bind(Object(f.a)(s)),s.clean=function(e){for(var t={},a=[],s=0;s<e.length;s++){var n=new Date(e[s].ValidTime).toLocaleDateString("en-GB",{day:"numeric",month:"short"}).replace(/ /g,"-");void 0===t[n]&&(t[n]=e[s],a.push(e[s]))}return a},s}return Object(o.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,s=t.value,n=t.type,r=t.checked;"checkbox"===n?this.setState(Object(u.a)({graph:!1,table:!1},a,r)):this.setState(Object(u.a)({},a,s))}},{key:"render",value:function(){for(var e,t,a,s,r,l=[],i=[],o=[],c=[],d=[],h=[],m=0;m<this.props.dataArr.length;m++)if("\u05e6\u05e2\u05d3\u05d9\u05dd"===this.props.dataArr[m].name)e=this.props.dataArr[m].values;else if("\u05de\u05e8\u05d7\u05e7"===this.props.dataArr[m].name)t=this.props.dataArr[m].values;else if("\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"===this.props.dataArr[m].name)a=this.props.dataArr[m].values;else if("\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"===this.props.dataArr[m].name){if(this.props.dataArr[m].values[0].Data&&this.props.dataArr[m].values[0].Data.High)for(var u=0;u<this.props.dataArr[m].values.length;u++)this.props.dataArr[m].values[u].Data=this.props.dataArr[m].values[u].Data.High;s=this.props.dataArr[m].values}else"\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4"===this.props.dataArr[m].name&&(r=this.props.dataArr[m].values);for(m=0;m<this.props.periodicAnswers.length;m++){if(1===this.props.periodicAnswers[m].QuestionnaireID)for(l=this.props.periodicAnswers[m].data,u=0;u<l.length;u++)l[u].Data=l[u].Score;if(2===this.props.periodicAnswers[m].QuestionnaireID)for(i=this.props.periodicAnswers[m].data,u=0;u<i.length;u++)i[u].Data=i[u].Score;if(3===this.props.periodicAnswers[m].QuestionnaireID)for(o=this.props.periodicAnswers[m].data,u=0;u<o.length;u++)o[u].Data=o[u].Score;if(4===this.props.periodicAnswers[m].QuestionnaireID)for(c=this.props.periodicAnswers[m].data,u=0;u<c.length;u++)c[u].Data=c[u].Score;if(5===this.props.periodicAnswers[m].QuestionnaireID)for(d=this.props.periodicAnswers[m].data,u=0;u<d.length;u++)d[u].Data=d[u].Score;if(6===this.props.periodicAnswers[m].QuestionnaireID)for(h=this.props.periodicAnswers[m].data,u=0;u<h.length;u++)h[u].Data=h[u].Score}return n.a.createElement("div",null,n.a.createElement("div",{className:"display"},this.props.dataArr.length>0||this.props.dailyA.length>0?n.a.createElement("div",null,n.a.createElement("div",{className:"checkButton",id:"cbRight"},n.a.createElement("label",null,n.a.createElement("input",{type:"checkbox",value:"1",name:"graph",checked:this.state.graph,onChange:this.handleChange}),n.a.createElement("span",null,n.a.createElement("div",{id:"text"},"\u05d4\u05e6\u05d2 \u05de\u05d9\u05d3\u05e2 \u05d2\u05e8\u05e4\u05d9")))),n.a.createElement("div",{className:"checkButton",id:"cbLeft"},n.a.createElement("label",null,n.a.createElement("input",{type:"checkbox",value:"1",name:"table",checked:this.state.table,onChange:this.handleChange}),n.a.createElement("span",null,n.a.createElement("div",{id:"text"},"\u05d4\u05e6\u05d2 \u05de\u05d9\u05d3\u05e2 \u05d8\u05d1\u05dc\u05d0\u05d9"))))," "):null),n.a.createElement("br",null),n.a.createElement("br",null),this.state.graph||this.state.table?n.a.createElement(T,{user:this.props.user}):null,this.state.table&&this.props.dataArr.length>0?n.a.createElement("h3",null,"\u05de\u05d3\u05d3\u05d9\u05dd"):null,this.state.table?n.a.createElement("div",{className:"ex1"},n.a.createElement(S,{dataArr:this.props.dataArr,steps:this.props.steps,distance:this.props.distance,calories:this.props.calories,weather:this.props.weather,sleep:this.props.sleep,date:this.props.date,showDaily:this.props.showDaily,weekly:this.props.weekly,monthly:this.props.monthly,name:this.props.name})," "):null,n.a.createElement("br",null),this.state.table&&this.props.dailyQ?n.a.createElement("h3",null,"\u05e9\u05d0\u05dc\u05d5\u05df \u05d9\u05d5\u05de\u05d9"):null,this.state.table&&this.props.dailyQ?n.a.createElement(C,{data:this.props.dailyA,date:this.props.date,showDaily:this.props.showDaily,weekly:this.props.weekly,monthly:this.props.monthly,name:this.props.name}):null,this.state.table&&this.props.perQ?n.a.createElement("h3",null,"\u05e9\u05d0\u05dc\u05d5\u05e0\u05d9\u05dd \u05ea\u05e7\u05d5\u05e4\u05ea\u05d9\u05d9\u05dd"):null,this.state.table&&this.props.perQ?n.a.createElement(j,{data:this.props.periodicAnswers,date:this.props.date,showDaily:this.props.showDaily,weekly:this.props.weekly,monthly:this.props.monthly,name:this.props.name}):null,this.state.graph&&this.props.steps?n.a.createElement(O,{data:e,date:this.props.date,name:"\u05e6\u05e2\u05d3\u05d9\u05dd",showDaily:this.props.showDaily,weekly:this.props.weekly,monthly:this.props.monthly}):null,this.state.graph&&this.props.distance?n.a.createElement(O,{data:t,date:this.props.date,name:"\u05de\u05e8\u05d7\u05e7",showDaily:this.props.showDaily,weekly:this.props.weekly,monthly:this.props.monthly}):null,this.state.graph&&this.props.calories?n.a.createElement(O,{data:a,date:this.props.date,name:"\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea",showDaily:this.props.showDaily,weekly:this.props.weekly,monthly:this.props.monthly}):null,this.state.graph&&this.props.weather?n.a.createElement(O,{data:s,date:this.props.date,name:"\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8",showDaily:this.props.showDaily,weekly:this.props.weekly,monthly:this.props.monthly}):null,this.state.graph&&this.props.sleep?n.a.createElement(I,{data:r,date:this.props.date,name:"\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4",showDaily:this.props.showDaily,weekly:this.props.weekly,monthly:this.props.monthly}):null,this.state.graph&&this.props.dailyQ?n.a.createElement(_,{data:this.props.dailyA,date:this.props.date,name:"\u05e9\u05d0\u05dc\u05d5\u05df \u05d9\u05d5\u05de\u05d9",showDaily:this.props.showDaily,weekly:this.props.weekly,monthly:this.props.monthly}):null,this.state.graph&&l.length>0&&this.props.perQ?n.a.createElement(O,{data:l,date:this.props.date,name:"Oswestry Disability Index",showDaily:this.props.showDaily,weekly:this.props.weekly,monthly:this.props.monthly}):null,this.state.graph&&i.length>0&&this.props.perQ?n.a.createElement(O,{data:i,date:this.props.date,name:"Neck Disability Index",showDaily:this.props.showDaily,weekly:this.props.weekly,monthly:this.props.monthly}):null,this.state.graph&&o.length>0&&this.props.perQ?n.a.createElement(O,{data:o,date:this.props.date,name:"Lower Extremity Functional Scale",showDaily:this.props.showDaily,weekly:this.props.weekly,monthly:this.props.monthly}):null,this.state.graph&&c.length>0&&this.props.perQ?n.a.createElement(O,{data:c,date:this.props.date,name:"Oswestry low back pain",showDaily:this.props.showDaily,weekly:this.props.weekly,monthly:this.props.monthly}):null,this.state.graph&&d.length>0&&this.props.perQ?n.a.createElement(O,{data:d,date:this.props.date,name:"EQ-5D",showDaily:this.props.showDaily,weekly:this.props.weekly,monthly:this.props.monthly}):null,this.state.graph&&h.length>0&&this.props.perQ?n.a.createElement(O,{data:h,date:this.props.date,name:"EQ5D Number",showDaily:this.props.showDaily,weekly:this.props.weekly,monthly:this.props.monthly}):null)}}]),a}(s.Component),L=function(e){Object(c.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(i.a)(this,s),e=t.call(this);var a=(new Date).toISOString().split("T")[0];return e.state={pName:"",fName:"",end_date:a,start_date:"2020-01-01",steps:!0,distance:!0,weather:!0,calories:!0,sleeping_hours:!0,dataArr:[],periodicAnswers:[],showPopup:!1,textPopup:[],dailyA:[],numOfUsers:0,dailyQ:!0,perQ:!0,x:[],date:0,showDaily:!0,weekly:!1,monthly:!1,user:{},todayDate:a},e.handleChange=e.handleChange.bind(Object(f.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(f.a)(e)),e.getRequest=e.getRequest.bind(Object(f.a)(e)),e.togglePopup=e.togglePopup.bind(Object(f.a)(e)),e.selectUser=e.selectUser.bind(Object(f.a)(e)),e}return Object(o.a)(s,[{key:"togglePopup",value:function(){this.setState({showPopup:!this.state.showPopup})}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,s=t.value,n=t.type,r=t.checked;"checkbox"===n?this.setState(Object(u.a)({},a,r)):this.setState(Object(u.a)({},a,s)),"showDaily"===a?this.setState({showDaily:!0,weekly:!1,monthly:!1}):"weekly"===a?this.setState({showDaily:!1,weekly:!0,monthly:!1}):"monthly"===a&&this.setState({showDaily:!1,weekly:!1,monthly:!0})}},{key:"getRequest",value:function(){var e=Object(b.a)(g.a.mark((function e(t,a){var s,n,r,l,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="http://icc.ise.bgu.ac.il/njsw03auth/doctors/"+a+"?FirstName="+this.state.pName+"&LastName="+this.state.fName,""!==this.state.start_date&&(n=new Date(this.state.start_date),r=n.getTime(),s+="&start_time="+r),""!==this.state.end_date&&(n=new Date(this.state.end_date),n=new Date(n.getTime()+864e5),l=n.getTime(),s+="&end_time="+l),e.next=5,w.a.get(s,{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}});case 5:if("Not Found"!==(i=e.sent).data.message){e.next=8;break}return e.abrupt("return",null);case 8:return e.abrupt("return",{values:i.data.data,name:t,numOfUsers:i.data.data.length});case 9:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"selectUser",value:function(){var e=Object(b.a)(g.a.mark((function e(t){var a,s,n,r,l,i,o,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=this.state.dataArr,s=this.state.dailyA,n=[],i=0;i<this.state.numOfUsers;i++)s[i]&&s[i].UserID.BirthDate===t&&(n=s[i].docs,l=s[i].UserID.DateOfSurgery,r=s[i].UserID);for(i=0;i<this.state.questionnaire.values.length;i++)this.state.questionnaire.values[i].UserID.BirthDate===t&&(this.state.periodicAnswers.push(this.state.questionnaire.values[i].docs),l=this.state.questionnaire.values[i].UserID.DateOfSurgery,r=this.state.questionnaire.values[i].UserID);for(i=0;i<a.length;i++)if(o=[],a[i]){for(c=0;c<a[i].values.length;c++)a[i].values[c].UserID.BirthDate===t&&(o=a[i].values[c].docs,l=a[i].values[c].UserID.DateOfSurgery,r=a[i].values[c].UserID);a[i].values=o}this.setState({dataArr:a,dailyA:n,date:l,user:r}),this.state.showPopup&&this.togglePopup();case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(){var e=Object(b.a)(g.a.mark((function e(t){var a,s,r,l,i,o,c,d,h,m,u=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t&&t.preventDefault(),a=0,s=[],r=0,e.next=6,this.getRequest("\u05e6\u05e2\u05d3\u05d9\u05dd","metrics/getSteps");case 6:if(l=e.sent){e.next=10;break}return window.alert("\u05dc\u05d0 \u05e7\u05d9\u05d9\u05dd \u05de\u05d8\u05d5\u05e4\u05dc"),e.abrupt("return");case 10:return l.values[0].docs.length>0&&s.push(l),l.numOfUsers>a&&(a=l.numOfUsers),e.next=14,this.getRequest("\u05de\u05e8\u05d7\u05e7","metrics/getDistance");case 14:return(l=e.sent).values[0].docs.length>0&&s.push(l),l.numOfUsers>a&&(a=l.numOfUsers),e.next=19,this.getRequest("\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea","metrics/getCalories");case 19:return(l=e.sent).values[0].docs.length>0&&s.push(l),l.numOfUsers>a&&(a=l.numOfUsers),e.next=24,this.getRequest("\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8","metrics/getWeather");case 24:return(l=e.sent).values[0].docs.length>0&&s.push(l),l.numOfUsers>a&&(a=l.numOfUsers),e.next=29,this.getRequest("\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4","metrics/getSleep");case 29:return(l=e.sent).values[0].docs.length>0&&s.push(l),l.numOfUsers>a&&(a=l.numOfUsers),e.next=34,this.getRequest("\u05ea\u05e9\u05d5\u05d1\u05d5\u05ea \u05d9\u05d5\u05de\u05d9\u05d5\u05ea","answers/getDailyAnswers");case 34:return(l=e.sent).numOfUsers>a&&(a=l.numOfUsers),e.next=38,this.getRequest("\u05e9\u05d0\u05dc\u05d5\u05df \u05ea\u05e7\u05d5\u05e4\u05ea\u05d9","answers/getPeriodicAnswers");case 38:for(i=e.sent,o=0,c={},r=0;r<i.values.length;r++)c[i.values[r].UserID]||(c[i.values[r].UserID]=!0,o++);if(o>a&&(a=o),this.setState({dataArr:s,dailyA:l.values,numOfUsers:a,questionnaire:i}),1===a&&((d=this.state.dailyA[0].UserID.BirthDate)||(d=this.state.periodicAnswers[0].UserID.BirthDate),d||(d=this.state.dataArr[0][0].UserID.BirthDate),this.selectUser(d)),a>1){for(h=[],m=function(){var e=u.state.dailyA[r].UserID.BirthDate;e||(e=u.state.periodicAnswers[r].UserID.BirthDate),e||(e=u.state.dataArr[0][r].UserID.BirthDate);var t=new Date(e);u.state.x.push(t.toLocaleDateString("en-GB",{day:"numeric",month:"numeric",year:"numeric"})),h.push(n.a.createElement(D.a,{className:"card",key:u.state.x[r],onClick:function(){return u.selectUser(e)}},n.a.createElement(D.a.Body,{className:"cardBody"},"\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9: ",u.state.pName," "),n.a.createElement(D.a.Body,{className:"cardBody"},"\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4: ",u.state.fName," "),n.a.createElement(D.a.Body,{className:"cardBody"},"\u05ea\u05d0\u05e8\u05d9\u05da \u05dc\u05d9\u05d3\u05d4: ",u.state.x[r])))},r=0;r<a;r++)m();this.setState({text:h}),this.togglePopup()}case 46:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return a(87),n.a.createElement("div",null,n.a.createElement("form",{onSubmit:this.handleSubmit},n.a.createElement("div",{className:"search"},n.a.createElement("label",{className:"lSearch"},"\u05d7\u05e4\u05e9 \u05de\u05d8\u05d5\u05e4\u05dc:"),n.a.createElement("input",{className:"iSearch",id:"pname",type:"text",name:"pName",value:this.state.pName,placeholder:"\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9",onChange:this.handleChange,required:!0}),n.a.createElement("input",{className:"iSearch",id:"fname",type:"text",name:"fName",value:this.state.fName,placeholder:"\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4",onChange:this.handleChange,required:!0}),n.a.createElement("button",{className:"bSearch"},"\u05d7\u05e4\u05e9")),n.a.createElement("div",{className:"dates"},n.a.createElement("label",{className:"cSearch"},"\u05d1\u05d7\u05e8 \u05ea\u05d0\u05e8\u05d9\u05db\u05d9\u05dd: \u05de"),n.a.createElement("input",{className:"dSearch",type:"date",name:"start_date",value:this.state.start_date,onChange:this.handleChange}),n.a.createElement("label",{className:"aSearch"},"\u05e2\u05d3"),n.a.createElement("input",{className:"dSearch",type:"date",name:"end_date",value:this.state.end_date,onChange:this.handleChange})),n.a.createElement("br",null),n.a.createElement("div",{className:"mdd"},n.a.createElement("label",{className:"mLabel"},"\u05d1\u05d7\u05e8 \u05de\u05d3\u05d3\u05d9\u05dd:"),n.a.createElement("input",{className:"cInput",type:"checkbox",name:"steps",checked:this.state.steps,onChange:this.handleChange}),n.a.createElement("label",{className:"mLabel"},"\u05e6\u05e2\u05d3\u05d9\u05dd"),n.a.createElement("input",{className:"cInput",type:"checkbox",name:"distance",checked:this.state.distance,onChange:this.handleChange}),n.a.createElement("label",{className:"mLabel"},"\u05de\u05e8\u05d7\u05e7"),n.a.createElement("input",{className:"cInput",type:"checkbox",name:"weather",checked:this.state.weather,onChange:this.handleChange}),n.a.createElement("label",{className:"mLabel"},"\u05de\u05d6\u05d2 \u05d4\u05d0\u05d5\u05d5\u05d9\u05e8"),n.a.createElement("input",{className:"cInput",type:"checkbox",name:"calories",checked:this.state.calories,onChange:this.handleChange}),n.a.createElement("label",{className:"mLabel"},"\u05e7\u05dc\u05d5\u05e8\u05d9\u05d5\u05ea"),n.a.createElement("input",{className:"cInput",type:"checkbox",name:"sleeping_hours",checked:this.state.sleeping_hours,onChange:this.handleChange}),n.a.createElement("label",{className:"mLabel"},"\u05e9\u05e2\u05d5\u05ea \u05e9\u05d9\u05e0\u05d4"),n.a.createElement("input",{className:"cInput",type:"checkbox",name:"dailyQ",checked:this.state.dailyQ,onChange:this.handleChange}),n.a.createElement("label",{className:"mLabel"},"\u05e9\u05d0\u05dc\u05d5\u05df \u05d9\u05d5\u05de\u05d9"),n.a.createElement("input",{className:"cInput",type:"checkbox",name:"perQ",checked:this.state.perQ,onChange:this.handleChange}),n.a.createElement("label",{className:"mLabel"},"\u05e9\u05d0\u05dc\u05d5\u05e0\u05d9\u05dd \u05ea\u05e7\u05d5\u05e4\u05ea\u05d9\u05d9\u05dd")),n.a.createElement("div",{className:"mddShow"},n.a.createElement("label",{className:"mLabel"},"\u05d1\u05d7\u05e8 \u05d0\u05d5\u05e4\u05df \u05d4\u05e6\u05d2\u05d4:"),n.a.createElement("input",{className:"cInput",type:"checkbox",name:"showDaily",checked:this.state.showDaily,onChange:this.handleChange}),n.a.createElement("label",{className:"mLabel"},"\u05d9\u05d5\u05de\u05d9"),n.a.createElement("input",{className:"cInput",type:"checkbox",name:"weekly",checked:this.state.weekly,onChange:this.handleChange}),n.a.createElement("label",{className:"mLabel"},"\u05e9\u05d1\u05d5\u05e2\u05d9"),n.a.createElement("input",{className:"cInput",type:"checkbox",name:"monthly",checked:this.state.monthly,onChange:this.handleChange}),n.a.createElement("label",{className:"mLabel"},"\u05d7\u05d5\u05d3\u05e9\u05d9"))),n.a.createElement("br",null),n.a.createElement(q,{dataArr:this.state.dataArr,steps:this.state.steps,distance:this.state.distance,calories:this.state.calories,weather:this.state.weather,sleep:this.state.sleeping_hours,dailyA:this.state.dailyA,periodicAnswers:this.state.periodicAnswers,dailyQ:this.state.dailyQ,perQ:this.state.perQ,date:this.state.date,showDaily:this.state.showDaily,weekly:this.state.weekly,monthly:this.state.monthly,user:this.state.user,name:this.state.pName+" "+this.state.fName}),this.state.showPopup?n.a.createElement(F,{text:this.state.text,closePopup:this.togglePopup.bind(this)}):null)}}]),s}(s.Component),F=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"popup"},n.a.createElement("div",{className:"popup_inner"},n.a.createElement("button",{onClick:this.props.closePopup,id:"x"},"x"),n.a.createElement("h4",null,":\u05d0\u05e0\u05d0 \u05d1\u05d7\u05e8 \u05de\u05d1\u05d9\u05df \u05d4\u05e8\u05e9\u05d5\u05de\u05d5\u05ea \u05d4\u05d1\u05d0\u05d5\u05ea"),this.props.text))}}]),a}(n.a.Component),B=function(e){Object(c.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).state={showPopup:!1,pass:"",pass2:"",diff:!1},a.logout=a.logout.bind(Object(f.a)(a)),a.change=a.change.bind(Object(f.a)(a)),a.togglePopup=a.togglePopup.bind(Object(f.a)(a)),a.handleChange=a.handleChange.bind(Object(f.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(f.a)(a)),a}return Object(o.a)(s,[{key:"togglePopup",value:function(){this.setState({showPopup:!this.state.showPopup})}},{key:"handleSubmit",value:function(){var e=Object(b.a)(g.a.mark((function e(t){var a,s,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),this.state.pass===this.state.pass2){e.next=5;break}this.setState({diff:!0}),e.next=15;break;case 5:return a="http://icc.ise.bgu.ac.il/njsw03auth/usersAll/askChangePassword",e.next=8,w.a.post(a,{},{headers:{"Content-Type":"application/json","x-auth-token":sessionStorage.getItem("token")}});case 8:return n=e.sent,s=n.data.data,a="http://icc.ise.bgu.ac.il/njsw03users/passwordChangeCheck/changePassword",e.next=13,w.a.post(a,{NewPassword:this.state.pass},{headers:{"Content-Type":"application/json","x-auth-token":s}});case 13:e.sent.data.message&&(window.alert("\u05d4\u05e1\u05d9\u05e1\u05de\u05d0 \u05e9\u05d5\u05e0\u05ea\u05d4 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4"),this.togglePopup());case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,a=t.name,s=t.value,n=t.type,r=t.checked;"checkbox"===n?this.setState(Object(u.a)({},a,r)):this.setState(Object(u.a)({},a,s))}},{key:"logout",value:function(){sessionStorage.removeItem("token"),sessionStorage.removeItem("type"),sessionStorage.removeItem("name"),sessionStorage.removeItem("doctor"),localStorage.removeItem("token"),localStorage.removeItem("type"),localStorage.removeItem("name"),localStorage.removeItem("doctor"),window.location.reload(!1)}},{key:"change",value:function(){this.togglePopup()}},{key:"render",value:function(){var e=this;return a(44),n.a.createElement("div",null,n.a.createElement("div",{id:"labels"},n.a.createElement("label",{id:"logout",onClick:function(){return e.logout()}},"\u05d4\u05ea\u05e0\u05ea\u05e7"),n.a.createElement("label",{id:"sep",onClick:function(){return e.change()}}," |"),n.a.createElement("label",{id:"change",onClick:function(){return e.change()}},"\u05e9\u05e0\u05d4 \u05e1\u05d9\u05e1\u05de\u05d0"),n.a.createElement("label",{id:"hello"},'\u05e9\u05dc\u05d5\u05dd \u05d3"\u05e8 ',sessionStorage.getItem("name")," ")),n.a.createElement("div",{className:"App"},n.a.createElement("header",{className:"App-header"},n.a.createElement(y,null),n.a.createElement(L,null),n.a.createElement("br",null),"true"!==sessionStorage.getItem("doctor")?n.a.createElement(m.a,{to:"/"}):null)),this.state.showPopup?n.a.createElement(V,{change:this.handleChange.bind(this),closePopup:this.togglePopup.bind(this),handleSubmit:this.handleSubmit.bind(this),diff:this.state.diff}):null)}}]),s}(s.Component),V=function(e){Object(c.a)(s,e);var t=Object(d.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){return a(44),n.a.createElement("div",{className:"popup"},n.a.createElement("div",{className:"popup_inner"},n.a.createElement("button",{onClick:this.props.closePopup,id:"x"},"x"),n.a.createElement("h3",{id:"h3"},"\u05d4\u05d7\u05dc\u05e4\u05ea \u05e1\u05d9\u05e1\u05de\u05d0"),n.a.createElement("form",{onSubmit:this.props.handleSubmit},n.a.createElement("label",{id:"lpass"},"\u05e1\u05d9\u05e1\u05de\u05d0 \u05d7\u05d3\u05e9\u05d4:"),n.a.createElement("input",{type:"password",name:"pass",id:"pass",onChange:this.props.change,required:!0}),n.a.createElement("label",{id:"lpass2"},"\u05d4\u05e7\u05dc\u05d3 \u05d0\u05ea \u05d4\u05e1\u05d9\u05e1\u05de\u05d0 \u05de\u05d7\u05d3\u05e9:"),n.a.createElement("input",{type:"password",name:"pass2",id:"pass2",onChange:this.props.change,required:!0}),this.props.diff?n.a.createElement("label",null,"\u05d4\u05e1\u05d9\u05e1\u05de\u05d0\u05d5\u05ea \u05e9\u05d5\u05e0\u05d5\u05ea"):null,n.a.createElement("input",{type:"submit",value:"\u05e9\u05dc\u05d7",id:"send"}))))}}]),s}(n.a.Component),U=(a(92),a(46),{userName:"",fName:"",lName:"",password:"",bday:new Date,email:"",questionsID:[],questionsText:[],questions:[],answerUserQuestion:"",selectedUserType:"patient",quesionChosen:0}),G=function(e){Object(c.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).state={userName:"",fName:"",lName:"",password:"",bday:"new Date()",phone:"",questionsID:[],questionsText:[],questions:[],answerUserQuestion:"",selectedUserType:"patient",code:""},a.handleChange=a.handleChange.bind(Object(f.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(f.a)(a)),a.handleReset=a.handleReset.bind(Object(f.a)(a)),a.onSelect=a.onSelect.bind(Object(f.a)(a)),a}return Object(o.a)(s,[{key:"onSelect",value:function(e){var t=e.target.options.selectedIndex;this.setState({quesionChosen:t})}},{key:"componentDidMount",value:function(){var e=this,t=[],a=[],s=[];fetch("http://icc.ise.bgu.ac.il/njsw03users/getVerifications").then((function(e){return e.json()})).then((function(n){t=n.data;for(var r=0;r<t.length;r++){var l=t[r];a.push(l.QuestionID),s.push(l.QuestionText)}e.setState({questionsID:a,questionsText:s,questions:t})}))}},{key:"handleChange",value:function(e){this.setState(Object(u.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=new Date(this.state.bday),a=new Date;w.a.post("http://icc.ise.bgu.ac.il/njsw03users/doctorRegister",{UserID:this.state.userName,Password:this.state.password,First_Name:this.state.fName,Last_Name:this.state.lName,Phone_Number:this.state.phone,BirthDate:t.getTime(),Code:this.state.code,VerificationQuestion:this.state.quesionChosen,VerificationAnswer:this.state.answerUserQuestion,ValidTime:a.getTime()}).then((function(e){"Wrong Code"===e.data.message?window.alert("\u05e7\u05d5\u05d3 \u05d4\u05d0\u05d9\u05de\u05d5\u05ea \u05d0\u05d9\u05e0\u05d5 \u05e0\u05db\u05d5\u05df"):"Taken Email"===e.data.message?window.alert("\u05db\u05ea\u05d5\u05d1\u05ea \u05d4\u05d3\u05d5\u05d0\u05dc \u05db\u05d1\u05e8 \u05e8\u05e9\u05d5\u05de\u05d4 \u05d1\u05de\u05e2\u05e8\u05db\u05ea"):(window.alert("\u05d4\u05d4\u05e8\u05e9\u05de\u05d4 \u05d1\u05d5\u05e6\u05e2\u05d4 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4 \u05e0\u05d0 \u05dc\u05d1\u05e6\u05e2 \u05d4\u05ea\u05d7\u05d1\u05e8\u05d5\u05ea"),window.location.reload(!1))}))}},{key:"handleReset",value:function(e){var t=this;this.setState(U);var a=[],s=[],n=[];fetch("http://icc.ise.bgu.ac.il/njsw03users/getVerifications").then((function(e){return e.json()})).then((function(e){a=e.data,console.log(a);for(var r=0;r<a.length;r++){var l=a[r];s.push(l.QuestionID),n.push(l.QuestionText)}t.setState({questionsID:s,questionsText:n,questions:a})}))}},{key:"render",value:function(){var e=this;a(93);var t=this.state.questionsText.map((function(e){return n.a.createElement("option",{key:e},e)}));return n.a.createElement("div",null,n.a.createElement("form",{onSubmit:this.handleSubmit,onReset:this.handleReset,id:"new_user_form"},n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("label",{className:"labels_in_add_user"},'\u05db\u05ea\u05d5\u05d1\u05ea \u05d3\u05d5\u05d0"\u05dc'),n.a.createElement("input",{className:"inputs_in_add_user",name:"userName",type:"text",value:this.state.userName,onChange:function(t){return e.handleChange(t)},required:!0})),n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("label",{className:"labels_in_add_user"},"\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9"),n.a.createElement("input",{className:"inputs_in_add_user",name:"fName",type:"text",value:this.state.fName,onChange:this.handleChange,required:!0})),n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("label",{className:"labels_in_add_user"},"\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4 "),n.a.createElement("input",{className:"inputs_in_add_user",name:"lName",type:"text",value:this.state.lName,onChange:this.handleChange,required:!0})),n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("label",{className:"labels_in_add_user"},"\u05e1\u05d9\u05e1\u05de\u05d4 "),n.a.createElement("input",{className:"inputs_in_add_user",name:"password",type:"password",value:this.state.password,onChange:this.handleChange,required:!0})),n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("label",{className:"labels_in_add_user"},"\u05de\u05e1\u05e4\u05e8 \u05d8\u05dc\u05e4\u05d5\u05df"),n.a.createElement("input",{className:"inputs_in_add_user",name:"phone",type:"tel",id:"phone",pattern:"[0-9]{10}",value:this.state.phone,onChange:this.handleChange,required:!0})),n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("label",{className:"labels_in_add_user"},"\u05ea\u05d0\u05e8\u05d9\u05da \u05dc\u05d9\u05d3\u05d4"),n.a.createElement("input",{className:"inputs_in_add_user",name:"bday",type:"date",value:this.state.bday,onChange:this.handleChange,required:!0})),n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("label",{className:"labels_in_add_user"},"\u05e7\u05d5\u05d3 \u05d0\u05d9\u05de\u05d5\u05ea "),n.a.createElement("input",{className:"inputs_in_add_user",name:"code",type:"text",value:this.state.code,onChange:this.handleChange,required:!0})),n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("label",{className:"labels_in_add_user"},"\u05e9\u05d0\u05dc\u05ea \u05d0\u05d9\u05de\u05d5\u05ea "),n.a.createElement("select",{className:"select_in_add_user",onChange:this.onSelect},t)),n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("label",{className:"labels_in_add_user"},"\u05ea\u05e9\u05d5\u05d1\u05d4 "),n.a.createElement("input",{className:"inputs_in_add_user",name:"answerUserQuestion",type:"text",value:this.state.answerUserQuestion,onChange:this.handleChange,required:!0})),n.a.createElement("div",{className:"divs_in_add"},n.a.createElement("input",{type:"submit",value:"\u05d4\u05d9\u05e8\u05e9\u05dd",className:"submit_and_reset_buttons"}))))}}]),s}(s.Component),R=function(e){Object(c.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).state={ID:"",password:"",wrong:!1,showPopup:!1,name:"",doctor:!1,showID:!1,showWrongUser:!1,showQ:!1,showChange:!1,id:"",question:"",answer:"",date:"",wrongA:!1,diff:!1,token:"",pass:"",pass2:"",remember:!1,register:!1},localStorage.getItem("doctor")&&(sessionStorage.setItem("token",localStorage.getItem("token")),sessionStorage.setItem("name",localStorage.getItem("name")),sessionStorage.setItem("type",localStorage.getItem("type")),sessionStorage.setItem("doctor",localStorage.getItem("doctor"))),a.change=a.change.bind(Object(f.a)(a)),a.sumbit=a.sumbit.bind(Object(f.a)(a)),a.togglePopup=a.togglePopup.bind(Object(f.a)(a)),a.forget=a.forget.bind(Object(f.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(f.a)(a)),a.handle=a.handle.bind(Object(f.a)(a)),a.changePass=a.changePass.bind(Object(f.a)(a)),a.register=a.register.bind(Object(f.a)(a)),a}return Object(o.a)(s,[{key:"change",value:function(e){this.setState(Object(u.a)({},e.target.name,e.target.value))}},{key:"togglePopup",value:function(){this.setState({showPopup:!this.state.showPopup,wrongA:!1,diff:!1})}},{key:"forget",value:function(e){e.preventDefault(),this.setState({showID:!0,showWrongUser:!1,showQ:!1,showChange:!1,register:!1}),this.togglePopup()}},{key:"handleSubmit",value:function(){var e=Object(b.a)(g.a.mark((function e(t){var a,s,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),"http://icc.ise.bgu.ac.il/njsw03users/forgotPassword",e.next=4,w.a.post("http://icc.ise.bgu.ac.il/njsw03users/forgotPassword",{UserID:this.state.id});case 4:if(null!==(a=e.sent).data.data){e.next=9;break}this.setState({wrongA:!0}),e.next=14;break;case 9:return s=a.data.data,e.next=12,w.a.get("http://icc.ise.bgu.ac.il/njsw03users/getVerificationQuestion?QuestionID="+s);case 12:n=e.sent,this.setState({showID:!1,showWrongUser:!1,showQ:!0,showChange:!1,register:!1,wrongA:!1,question:n.data.data.QuestionText});case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handle",value:function(){var e=Object(b.a)(g.a.mark((function e(t){var a,s,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=new Date(this.state.date),s=a.getTime()-72e5,"http://icc.ise.bgu.ac.il/njsw03users/checkVerification",e.next=6,w.a.post("http://icc.ise.bgu.ac.il/njsw03users/checkVerification",{UserID:this.state.id,VerificationAnswer:this.state.answer,BirthDate:s});case 6:n=e.sent,(r=n.data.data)?this.setState({showID:!1,showWrongUser:!1,showQ:!1,showChange:!0,register:!1,token:r}):this.setState({wrongA:!0});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"changePass",value:function(){var e=Object(b.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),this.state.pass===this.state.pass2){e.next=5;break}this.setState({diff:!0}),e.next=11;break;case 5:return a=this.state.token,"http://icc.ise.bgu.ac.il/njsw03users/passwordChangeCheck/changePassword",e.next=9,w.a.post("http://icc.ise.bgu.ac.il/njsw03users/passwordChangeCheck/changePassword",{NewPassword:this.state.pass},{headers:{"Content-Type":"application/json","x-auth-token":a}});case 9:e.sent.data.message&&(window.alert("\u05d4\u05e1\u05d9\u05e1\u05de\u05d0 \u05e9\u05d5\u05e0\u05ea\u05d4 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4"),this.togglePopup());case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"register",value:function(e){this.setState({register:!0,showID:!1,showWrongUser:!1,showQ:!1,showChange:!1}),this.togglePopup()}},{key:"sumbit",value:function(e){var t=this;e.preventDefault(),w.a.post("http://icc.ise.bgu.ac.il/njsw03users/login",{UserID:this.state.ID,Password:this.state.password}).then((function(e){null==e.data.data?t.setState({wrong:!0}):"patient"===e.data.data.type[0]?(t.setState({name:e.data.data.name,ID:"",password:"",wrong:!1,showID:!1,showWrongUser:!0,showQ:!1,showChange:!1,register:!1}),t.togglePopup()):(sessionStorage.setItem("token",e.data.data.token),sessionStorage.setItem("name",e.data.data.name),sessionStorage.setItem("type",e.data.data.type),t.setState({doctor:sessionStorage.getItem("type").includes("doctor")}),sessionStorage.setItem("doctor",t.state.doctor),window.location.reload(!1),t.state.remember&&(localStorage.setItem("token",e.data.data.token),localStorage.setItem("name",e.data.data.name),localStorage.setItem("type",e.data.data.type),localStorage.setItem("doctor",t.state.doctor)))}))}},{key:"render",value:function(){var e=this;return a(46),n.a.createElement("div",null,n.a.createElement("form",{onSubmit:function(t){return e.sumbit(t)}},n.a.createElement("label",null,'\u05db\u05ea\u05d5\u05d1\u05ea \u05d3\u05d5\u05d0"\u05dc:'),n.a.createElement("input",{type:"text",className:"inputs",name:"ID",onChange:function(t){return e.change(t)},value:this.state.ID,required:!0}),n.a.createElement("label",null,"\u05e1\u05d9\u05e1\u05de\u05d4:"),n.a.createElement("input",{type:"password",className:"inputs",name:"password",onChange:function(t){return e.change(t)},value:this.state.password,required:!0}),this.state.wrong?n.a.createElement("label",{id:"wrong"},'\u05db\u05ea\u05d5\u05d1\u05ea \u05d4\u05d3\u05d5\u05d0"\u05dc \u05d0\u05d5 \u05d4\u05e1\u05d9\u05e1\u05de\u05d4 \u05dc\u05d0 \u05e0\u05db\u05d5\u05e0\u05d9\u05dd'):n.a.createElement("label",null),n.a.createElement("input",{type:"checkbox",id:"remember",name:"remember",onChange:function(t){return e.change(t)},value:this.state.remember}),n.a.createElement("label",null,"\u05d6\u05db\u05d5\u05e8 \u05d0\u05d5\u05ea\u05d9"),n.a.createElement("button",{type:"submit"},"\u05d4\u05ea\u05d7\u05d1\u05e8"),n.a.createElement("label",{id:"forget",onClick:function(t){return e.forget(t)}},"\u05e9\u05db\u05d7\u05ea \u05e1\u05d9\u05e1\u05de\u05d4?"),n.a.createElement("label",{id:"register",onClick:function(t){return e.register(t)}},"\u05d4\u05d9\u05e8\u05e9\u05dd")),sessionStorage.doctor?n.a.createElement(m.a,{to:"/search"}):null,this.state.showPopup?n.a.createElement(W,{text:this.state.name,closePopup:this.togglePopup.bind(this),showID:this.state.showID,showWrongUser:this.state.showWrongUser,showQ:this.state.showQ,showChange:this.state.showChange,handleSubmit:this.handleSubmit.bind(this),change:this.change.bind(this),handle:this.handle.bind(this),question:this.state.question,wrongA:this.state.wrongA,diff:this.state.diff,changePass:this.changePass.bind(this),register:this.state.register}):null)}}]),s}(s.Component),W=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return n.a.createElement("div",null,this.props.showWrongUser?n.a.createElement("div",{className:"popup"},n.a.createElement("div",{className:"popup_innerWrong"},n.a.createElement("button",{onClick:this.props.closePopup,id:"x"},"x"),n.a.createElement("h3",null,",\u05e9\u05dc\u05d5\u05dd ",this.props.text),n.a.createElement("p",{id:"wrongType"}," \u05d0\u05d9\u05df \u05dc\u05da \u05d0\u05ea \u05d4\u05d4\u05e8\u05e9\u05d0\u05d5\u05ea \u05d4\u05de\u05ea\u05d0\u05d9\u05de\u05d5\u05ea \u05e2\u05dc \u05de\u05e0\u05ea \u05dc\u05d4\u05d9\u05db\u05e0\u05e1 \u05dc\u05d0\u05ea\u05e8"))):null,this.props.showID?n.a.createElement("div",{className:"popup"},n.a.createElement("div",{className:"popup_innerEmail"},n.a.createElement("button",{onClick:this.props.closePopup,id:"x"},"x"),n.a.createElement("h3",{id:"h3"},"\u05e9\u05db\u05d7\u05ea\u05d9 \u05e1\u05d9\u05e1\u05de\u05d0"),n.a.createElement("form",{onSubmit:this.props.handleSubmit},n.a.createElement("label",{id:"lid"},'\u05d0\u05e0\u05d0 \u05d4\u05d6\u05df \u05db\u05ea\u05d5\u05d1\u05ea \u05d3\u05d5\u05d0"\u05dc:'),n.a.createElement("input",{type:"text",className:"inputs",name:"id",id:"id",onChange:this.props.change,required:!0}),this.props.wrongA?n.a.createElement("label",{className:"error"},'\u05db\u05ea\u05d5\u05d1\u05ea \u05d3\u05d5\u05d0"\u05dc \u05dc\u05d0 \u05e7\u05d9\u05d9\u05de\u05ea'):null,n.a.createElement("input",{type:"submit",value:"\u05d4\u05de\u05e9\u05da",id:"con"})))):null,this.props.showQ?n.a.createElement("div",{className:"popup"},n.a.createElement("div",{className:"popup_innerEmail"},n.a.createElement("button",{onClick:this.props.closePopup,id:"x"},"x"),n.a.createElement("h3",{id:"h3"},"\u05e9\u05db\u05d7\u05ea\u05d9 \u05e1\u05d9\u05e1\u05de\u05d0"),n.a.createElement("form",{onSubmit:this.props.handle},n.a.createElement("label",{id:"lq"},this.props.question),n.a.createElement("input",{type:"text",className:"inputs",name:"answer",id:"answer",onChange:this.props.change,required:!0}),n.a.createElement("label",{id:"ldate"},"\u05d4\u05db\u05e0\u05e1 \u05d0\u05ea \u05ea\u05d0\u05e8\u05d9\u05da \u05d9\u05d5\u05dd \u05d4\u05d5\u05dc\u05d3\u05ea \u05e9\u05dc\u05da:"),n.a.createElement("input",{type:"date",name:"date",id:"date",onChange:this.props.change,required:!0}),this.props.wrongA?n.a.createElement("label",{className:"error"},"\u05e9\u05d0\u05dc\u05ea \u05d0\u05d9\u05de\u05d5\u05ea \u05dc\u05d0 \u05e0\u05db\u05d5\u05e0\u05d4 \u05d0\u05d5 \u05ea\u05d0\u05e8\u05d9\u05da \u05dc\u05d9\u05d3\u05d4 \u05e9\u05d2\u05d5\u05d9"):null,n.a.createElement("input",{type:"submit",value:"\u05d4\u05de\u05e9\u05da",id:"con"})))):null,this.props.showChange?n.a.createElement("div",{className:"popup"},n.a.createElement("div",{className:"popup_innerEmail"},n.a.createElement("button",{onClick:this.props.closePopup,id:"x"},"x"),n.a.createElement("h3",{id:"h3"},"\u05e9\u05db\u05d7\u05ea\u05d9 \u05e1\u05d9\u05e1\u05de\u05d0"),n.a.createElement("form",{onSubmit:this.props.changePass},n.a.createElement("label",{id:"lpass"},"\u05e1\u05d9\u05e1\u05de\u05d0 \u05d7\u05d3\u05e9\u05d4:"),n.a.createElement("input",{type:"password",className:"inputs",name:"pass",id:"pass",onChange:this.props.change,required:!0}),n.a.createElement("label",{id:"lpass2"},"\u05d4\u05e7\u05dc\u05d3 \u05d0\u05ea \u05d4\u05e1\u05d9\u05e1\u05de\u05d0 \u05de\u05d7\u05d3\u05e9:"),n.a.createElement("input",{type:"password",className:"inputs",name:"pass2",id:"pass2",onChange:this.props.change,required:!0}),this.props.diff?n.a.createElement("label",{className:"error"},"\u05d4\u05e1\u05d9\u05e1\u05de\u05d0\u05d5\u05ea \u05e9\u05d5\u05e0\u05d5\u05ea"):null,n.a.createElement("input",{type:"submit",value:"\u05e9\u05dc\u05d7",id:"send"})))):null,this.props.register?n.a.createElement("div",{className:"popup"},n.a.createElement("div",{className:"popup_innerAdd"},n.a.createElement("button",{onClick:this.props.closePopup,id:"x"},"x"),n.a.createElement("h3",null,"\u05d4\u05e8\u05e9\u05de\u05d4"),n.a.createElement(G,null))):null)}}]),a}(n.a.Component),H=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("div",{className:"Home"},n.a.createElement("header",{className:"Home-header"},n.a.createElement(y,null),n.a.createElement(R,null))))}}]),a}(s.Component),z=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return n.a.createElement(h.a,null,n.a.createElement(m.d,null,n.a.createElement(m.b,{exact:!0,path:"/"},n.a.createElement(H,null)),n.a.createElement(m.b,{path:"/search"},n.a.createElement(B,null))))}}]),a}(s.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[52,1,2]]]);
//# sourceMappingURL=main.5527e373.chunk.js.map